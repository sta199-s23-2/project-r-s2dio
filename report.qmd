---
title: "Project title"
subtitle: "Report"
format: html
editor: visual
execute:
  echo: true
---

```{r}
#| label: load-packages
#| message: false
library(tidyverse)
library(tidymodels)
```

```{r}
cbb <- read_csv("data/cbb.csv")
```

**Dataset 2 (D1 college basketball)**

**Introduction and data**

As Duke students, it goes without saying that Duke basketball adds on to our unique college experience. Noting Duke mens basketball's historical successes, we have grown interested in researching more about other Division 1 mens basketball programs in universities throughout the country.

The data that we will be utilizing is sourced from the Division I college basketball seasons from the years of 2013-2019. It was found in the open source data site, Kaggle. The data was scraped from http://barttorvik.com/trank.php#. This data was cleaned up in 2021, in which the COVID seasons were not included in the dataset.

The dataset has various variables that characterize different Division I basketball teams--- such as the university they represent and the conference in which they belong. Some of the observations within the dataset include the number of games played, the number of games won, power rating, as well as the stats of the team in a particular season.

**Methodology**

<<<<<<< HEAD
**Our research question: "Which Division 1 basketball conference has the highest overall success rate from the 2013-2019 seasons? And which best factors (other than wins)--- (offensive/ defensive efficiency, 2pt and 3pt field goal success, steal rate, turnover rate, etc)--- best predict overall regular season success from 2013 to 2019? And does this also predict (better predict/ worse predict) post season success?"**
=======
-- How do you plan to answer your research question?

-- Prediction? Inference? Both?

**Our research question: "How does regular season adjusted offensive efficiency, and regular season adjusted defensive efficiency correlate to being a 1-seed team and post season success?"**
>>>>>>> 6203880cdb58fcd68a00f6e9c2d426b454f7eb9b

Our central research question is addressed through the analysis of the factors that best predict overall regular season success from 2013 to 2019. We might be able to filter out the different factors that play a role in each program's success and determine their 'weight' in assigning regular season rankings. This processes is then applied to investigate if such factor better predicts post season success/ pre-season rankings for the next basketball season.

We predict that the conference with the most programs ranked highly will be considered the D1 mens basketball conference with the highest overall success rate. We also predict that an individual program will be ranked higher by the number of points they scored, in relation to their opponent, regardless of the outcome.

**Results**

-- What are you finding out?
We are finding out the correlation between seeds when predicted by adjusted offensive efficiency and adjusted defensive efficiency, as well as finding which predictor is the best (out of adjusted offensive efficiency, adjusted defensive efficiency, or both)


```{r}
cbb_new <- cbb |>
  rename("Adjusted Offensive Efficiency" = "ADJOE", "Effective Field Goal" = "EFG_O", "Wins Above Bubble" = "WAB")
```

```{r}
cbb |>
  ggplot(aes(x = SEED,
             y = ADJOE)) +
  geom_point()

cbb |>
  ggplot(aes(x = SEED,
             y = ADJDE)) +
  geom_point()

```

```{r}

SEED_Model_1 <- linear_reg() |>
  set_engine("lm") |>
  fit(SEED ~ ADJOE, data = cbb)

SEED_Model_2 <- linear_reg() |>
  set_engine("lm") |>
  fit(SEED ~ ADJDE, data = cbb)

SEED_Model_3 <- linear_reg() |>
  set_engine("lm") |>
  fit(SEED ~ ADJOE * ADJDE, data = cbb)

SEED_Model_1
SEED_Model_2
SEED_Model_3

```

Model1 (predicting seed based on adjusted offensive efficiency)

$\widehat{SEED} = 69.90 - 0.55*ADJOE$

Model2 (predicting seed based on adjusted defensive efficiency)

$\widehat{SEED} = -49.52 + 0.60*ADJDE$

Model3 (predicting seed based on adjusted offensive and defensive efficiency)

$\widehat{SEED} = -183.59 - 1.98*ADJOE - 1.29*ADJDE + 0.02*ADJOE*ADJDE$

```{r}

SEED_Model_1 <- linear_reg() |>
  set_engine("lm") |>
  fit(SEED ~ ADJOE, data = cbb) |>
  glance() |>
  pull(adj.r.squared)

SEED_Model_2 <- linear_reg() |>
  set_engine("lm") |>
  fit(SEED ~ ADJDE, data = cbb) |>
  glance() |>
  pull(adj.r.squared)

SEED_Model_3 <- linear_reg() |>
  set_engine("lm") |>
  fit(SEED ~ ADJOE * ADJDE, data = cbb) |>
  glance() |>
  pull(adj.r.squared)

SEED_Model_1
SEED_Model_2
SEED_Model_3

```

The interactive model (with both adjusted offensive and defensive efficiency) is the best model with the highest adjusted r -squared value. Adjusted offensive efficiency is the second best predictor closely followed by defensive efficiency (but both are individually less correlated with their seed.
